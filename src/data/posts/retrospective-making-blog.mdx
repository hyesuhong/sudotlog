---
title: 블로그를 제작해보고..
description: ''
date: 2024-07-09
isDraft: true
tags:
  - Blog
  - 'Next.js'
  - 회고
---

## 제작 이유

간간히 Velog를 이용하기는 했지만, 글을 작성하는 것이 약간 불편하고
커스터마이징이 안된다는 점이 불만족스러웠습니다. 또한 프론트엔드 개발을 메인으로
하는 개발자로서 UI 감각이나 취향을 가시적으로 드러낼 수 있는 개발 블로그를
만들어보고 싶은 마음이 항상 자리했습니다.

## 개발에 앞서 정해야 할 것들

### 기술 스택

다른 블로그를 찾아보며 어떤 기술들을 주로 사용하는지 확인했습니다.

- Github pages + Jekyll
- Gatsby (+ GraphQL)
- Next.js + md(mdx) (+ Contentlayer)
- Astro + md(mdx)

검색하고 확인한 결과를 바탕으로 다음과 같은 조건을 따져 스택을 정했습니다.

- Markdown 문법을 사용할 것
- 현재 현업에서 많이 사용하는 기술일 것
- 커스터마이징이 자유로울 것

조건들을 따져봤을 때 Next.js로 만드는 것이 가장 적합해보였고, Next.js로 개발을
진행했을 때의 이점이 가장 많다고 생각되었습니다.

1. `Next.js 14` + `App router`를 연습할 수 있는 좋은 기회
2. md 혹은 mdx 파일을 읽어서 html 요소로 컨버팅하는 작업 경험
3. SEO 적용

Next.js를 연습하는 목적이 더해졌으니, 템플릿을 사용하기보다 처음부터 직접
만들어보기로 했습니다.

### 기능

구현하고자 했던 기능들을 정해보았습니다.

- [x] 목차
- [ ] 목차 인디케이터
- [x] 코드블럭 + 복사
- [x] 댓글
- [ ] 공유

> 체크: 글을 작성하고 있는 시점(2024.07.09)에서 완료된 기능들

### 디자인

처음에는 전체 화면을 사용하고, 효과도 많은 디자인으로 작업을 했습니다. 그런데
[평안님의 블로그](https://bepyan.me)와
[회고](https://bepyan.me/post/redesign-blog)를 읽으면서 **약간은 정적이고,
미니멀한 디자인**이 블로그에 더 적합한 디자인인 것 같아 변경하게 되었습니다.

디자인을 변경 이슈가 있었다보니, 디자인에서 가장 오래 시간을 쏟았던 것 같습니다.

## 마주한 문제들

### 다크 모드 깜빡임

`Next.js` 를 사용하면서 화면 모드를 개발할 때 `next-themes` 라이브러리를 많이
사용하는 것 같습니다. 이번 블로그에는 라이트, 다크 두 가지의 테마만 사용해
복잡성이 낮기 때문에 직접 구현해보았습니다.

문제는 새로고침을 했을 때 테마가 늦게 적용된다는,,, 스크립트 삽입

### Toc

문자열에서 헤딩 추출 -> 트리로 만들기가 어려웠음 -> Map 사용으로 해결

### Giscus script

Nextjs 스크립트를 사용하니까 페이지 변경되면 로드되지 않음 -> 다수의 예시에서
createElement를 사용한 이유가 있는 것..! 직접 해보고 깨달음...

### 도메인 연결

Vercel을 이용해 배포함 -> 도메인 연결이 바로 안 됨 -> ~~를 참고해서 해결

## 추후 추가할 기능

### DB & Storage

게시글과 이미지 등을 저장할 서버를 사용해보는 것

### GA

GA 적용해보기
